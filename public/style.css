:root{
  --bg:#0b0d10;
  --fg:#e8eef3;
  --muted:#9aa7b3;
  --card:#14181d;
  --line:#222933;
  --accent:#8b5cf6; /* purple accent */
  --accent-2: var(--accent);
  --bad:#ff6464;
  --good:#86efac;
  --glow: rgba(139,92,246,.35);
}

*{box-sizing:border-box}
html,body{margin:0;padding:0;background:var(--bg);color:var(--fg);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial}

/* --- ambient background with spotlight gradients --- */
body::before, body::after{
  content:""; position:fixed; inset:-30vmax; z-index:-2; filter:blur(120px);
  background: radial-gradient(45vmax 45vmax at 15% 20%, rgba(139,92,246,.10), transparent 60%),
              radial-gradient(40vmax 40vmax at 85% 10%, rgba(255,255,255,.06), transparent 60%),
              radial-gradient(35vmax 35vmax at 50% 95%, rgba(139,92,246,.06), transparent 60%);
}

.bar{
  display:flex;justify-content:space-between;align-items:center;padding:14px 18px;
  border-bottom:1px solid var(--line);position:sticky;top:0;background:rgba(10,12,16,.6);
  backdrop-filter:saturate(150%) blur(10px); -webkit-backdrop-filter:saturate(150%) blur(10px);
}
.brand{
  font-weight:800; letter-spacing:.3px;
  background:linear-gradient(90deg,var(--accent),var(--accent-2));
  -webkit-background-clip:text; background-clip:text; color:transparent;
  text-shadow:0 0 18px rgba(124,92,255,.25);
}
.right{display:flex;gap:10px;align-items:center}
.tag{
  font-size:12px;color:var(--fg);opacity:.9;
  background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.02));
  border:1px solid var(--line);padding:6px 10px;border-radius:999px;
}

.container{max-width:1000px;margin:28px auto;padding:0 18px}

/* --- hero --- */
.hero{position:relative;padding:28px 18px 8px 18px;margin-bottom:12px}
.hero h1{margin:0;font-size:38px;line-height:1.1;font-weight:900;letter-spacing:.2px;color:var(--fg)}
.hero p{margin:10px 0 0 0;color:var(--muted);max-width:720px}
.spark{
  position:absolute; inset:auto 18px -14px auto; padding:6px 10px; border-radius:10px;
  background:linear-gradient(180deg,rgba(255,255,255,.08),rgba(255,255,255,.03));
  border:1px solid var(--line); font-size:12px; color:var(--fg);
  box-shadow:0 8px 30px -12px var(--glow);
}

.card{
  position:relative; background:var(--card); border:1px solid var(--line);
  border-radius:14px; padding:18px; margin-bottom:18px;
  box-shadow:0 10px 40px -18px rgba(0,0,0,.6), inset 0 1px 0 rgba(255,255,255,.05);
}

.row{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
.mt{margin-top:10px}

.input{
  flex:1; padding:12px 14px; border-radius:10px; border:1px solid var(--line);
  background:rgba(10,12,16,.6); color:var(--fg); outline:none; transition:border .2s, box-shadow .2s;
}
.input:focus{border-color:rgba(124,92,255,.5); box-shadow:0 0 0 4px rgba(124,92,255,.12)}

.btn{
  position:relative; padding:11px 16px; border-radius:10px; border:1px solid var(--line);
  background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.02));
  color:var(--fg); cursor:pointer; transition:transform .08s ease, box-shadow .2s, border .2s;
}
.btn:hover{border-color:rgba(255,255,255,.18); box-shadow:0 10px 30px -18px rgba(0,0,0,.6)}
.btn:active{transform:translateY(1px)}
.btn.primary{
  border:none; color:#06121a;
  background:linear-gradient(135deg,var(--accent),var(--accent-2));
  box-shadow:0 10px 40px -10px var(--glow);
}

.table{margin-top:14px;border:1px solid var(--line);border-radius:12px;overflow:hidden;background:rgba(10,12,16,.35)}
.tr{display:grid;grid-template-columns:240px 1fr 1fr;gap:12px;border-bottom:1px solid var(--line);padding:12px}
.tr.anim{opacity:0; transform:translateY(6px); animation:fadeUp .45s ease forwards; animation-delay: calc(var(--i, 0) * 45ms)}
.tr.h{font-weight:700;background:rgba(255,255,255,.03)}
.tr.diff{color:var(--bad);font-weight:700;position:relative}
.tr.diff::before{content:"";position:absolute;left:0;top:0;bottom:0;width:3px;background:linear-gradient(180deg,#ff6b8b,#ff9f6b)}

.muted{color:var(--muted);margin-top:6px}
code{background:#0f1318;border:1px solid var(--line);border-radius:6px;padding:0 6px}

/* --- small screens --- */
@media (max-width: 720px){
  .tr{grid-template-columns:160px 1fr 1fr}
  .hero h1{font-size:30px}
}

/* --- decorative orbs --- */
.orbs{position:absolute; inset:0; pointer-events:none; overflow:hidden}
.orbs span{position:absolute; border-radius:999px; filter:blur(20px); opacity:.22; animation:floaty 12s ease-in-out infinite}
.orbs span:nth-child(1){width:220px;height:220px;left:-60px;top:10%;background:radial-gradient(circle at 30% 30%, rgba(139,92,246,.22), transparent 60%)}
.orbs span:nth-child(2){width:180px;height:180px;right:10%;top:0;background:radial-gradient(circle at 50% 50%, rgba(139,92,246,.16), transparent 60%);animation-duration:14s}
.orbs span:nth-child(3){width:260px;height:260px;right:-80px;bottom:-40px;background:radial-gradient(circle at 50% 50%, rgba(255,255,255,.08), transparent 60%);animation-duration:18s}

/* --- gradient border cards --- */
.card.enhanced{overflow:hidden}
.card.enhanced::before{
  content:""; position:absolute; inset:-1px; padding:1.5px; border-radius:16px; z-index:-1;
  background:linear-gradient(0deg, var(--accent), var(--accent));
  -webkit-mask:linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite:xor; mask-composite:exclude;
}

/* --- interactive extras --- */
.btn.primary{background:linear-gradient(135deg, color-mix(in srgb, var(--accent) 92%, #000), var(--accent));}
.btn:hover{transform:translateY(-1px); box-shadow:0 16px 44px -20px var(--glow)}

/* table diff highlight */
.tr.diff{box-shadow:inset 0 0 0 1px color-mix(in srgb, var(--bad) 35%, transparent), 0 6px 28px -22px color-mix(in srgb, var(--bad) 50%, transparent)}
.tr.diff::after{content:"mismatch"; justify-self:start; align-self:center; font-size:10px; text-transform:uppercase; letter-spacing:.12em; opacity:.95; color:var(--bad); background:color-mix(in srgb, var(--bad) 16%, transparent); border:1px solid color-mix(in srgb, var(--bad) 40%, transparent); padding:3px 6px; border-radius:999px}

/* placeholder when empty */
#table:empty{min-height:140px; background:linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.01)); border-radius:12px; position:relative}
#table:empty::before{content:"Compare to load your traits"; position:absolute; inset:0; display:grid; place-items:center; color:var(--muted)}

/* loading state */
#table.loading{position:relative; min-height:160px}
#table.loading::after{
  content:""; position:absolute; inset:0; display:grid; place-items:center;
}
#table.loading::before{
  content:""; position:absolute; inset:0; backdrop-filter:blur(2px); background:rgba(6,10,14,.35);
}
#table.loading .spinner{position:absolute; left:50%; top:50%; width:34px; height:34px; margin:-17px 0 0 -17px;
  border-radius:50%; border:3px solid rgba(255,255,255,.12); border-top-color:var(--accent); animation:spin 1s linear infinite}

/* subtle animated grid overlay */
body::after{
  content:""; position:fixed; inset:0; z-index:-1; pointer-events:none;
  background-image:
    linear-gradient(rgba(255,255,255,.03) 1px, transparent 1px),
    linear-gradient(90deg, rgba(255,255,255,.03) 1px, transparent 1px);
  background-size: 24px 24px, 24px 24px; mask-image: radial-gradient(circle at 50% 50%, rgba(0,0,0,.9), transparent 65%);
  animation: gridDrift 40s linear infinite;
}

/* --- animations --- */
@keyframes gradientShift{0%{filter:hue-rotate(0deg); background-position:0% 50%}50%{background-position:100% 50%}100%{filter:hue-rotate(360deg); background-position:0% 50%}}
@keyframes floaty{0%,100%{transform:translateY(0)}50%{transform:translateY(-16px)}}
@keyframes gridDrift{0%{transform:translateY(0)}100%{transform:translateY(24px)}}
@keyframes spin{to{transform:rotate(360deg)}}
@keyframes fadeUp{to{opacity:1; transform:translateY(0)}}

/* trait label with icon */
.trait{display:flex; align-items:center; gap:8px}
.ico{width:22px;height:22px; display:grid; place-items:center; border-radius:6px; background:rgba(255,255,255,.06); border:1px solid var(--line); font-size:12px}

/* pulse attention on update button */
.btn.pulse{box-shadow:0 0 0 0 rgba(124,92,255,.35); animation:pulseGlow 1.6s ease-out infinite}
@keyframes pulseGlow{0%{box-shadow:0 0 0 0 rgba(124,92,255,.35)}70%{box-shadow:0 0 0 16px rgba(124,92,255,0)}100%{box-shadow:0 0 0 0 rgba(124,92,255,0)}}
